{"version":3,"sources":["webpack:///D:/zl/wholesale-uni-app/main.js","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?ac4f","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?0227","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?b763","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?6969","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?5739","webpack:///D:/zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue?d90e"],"names":["createPage","Page","data","chooseIndex","chooseType","items","title","tip","imgs","videos","methods","showVideo","url","uni","navigateTo","save","console","log","length","T","tips","del","index","idx","type","splice","actionSheetTap","_this","chooseImage","count","sizeType","sourceType","success","res","JSON","stringify","tempFilePaths","arr","forEach","item","upload","chooseVideo","tempFilePath","getStorageSync","uploadFile","filePath","name","uploadFileRes","parse","code","push","message","fail","err"],"mappings":"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","file":"pages/middle/release/chooseImage/chooseImage.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/middle/release/chooseImage/chooseImage.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./chooseImage.vue?vue&type=template&id=e5d1434a&scoped=true&\"\nimport script from \"./chooseImage.vue?vue&type=script&lang=js&\"\nexport * from \"./chooseImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chooseImage.vue?vue&type=style&index=0&id=e5d1434a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5d1434a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\ms\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('e5d1434a', component.options)\n    } else {\n      api.reload('e5d1434a', component.options)\n    }\n    module.hot.accept(\"./chooseImage.vue?vue&type=template&id=e5d1434a&scoped=true&\", function () {\n      api.rerender('e5d1434a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"zl/wholesale-uni-app/pages/middle/release/chooseImage/chooseImage.vue\"\nexport default component.exports","export * from \"-!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chooseImage.vue?vue&type=template&id=e5d1434a&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chooseImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chooseImage.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport T from '@/utils/tips.js'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tchooseIndex:'',  // 0 是主图 1是详情\n\t\t\tchooseType:'',   // 0 是图片 2是视频\n\t\t\titems:[\n\t\t\t\t{\n\t\t\t\t\ttitle:'货品主图',\n\t\t\t\t\ttip:'显示在列表和详情页头图，图片最多上传5张/视频可上传5张',\n\t\t\t\t\timgs:[],\n\t\t\t\t\tvideos:[]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle:'货品详情图',\n\t\t\t\t\ttip:'显示在详情页下方，图片或视频最多只可上传10张',\n\t\t\t\t\timgs:[],\n\t\t\t\t\tvideos:[]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tmethods:{\n\t\t// 显示视频\n\t\tshowVideo(url){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'/pages/common/video/video?url='+url\n\t\t\t})\n\t\t},\n\t\t// 保存\n\t\tsave(){\n\t\t\tconsole.log(this.items)\n\t\t\tif(this.items[0].imgs.length>0 || this.items[0].videos.length>0 || this.items[1].imgs.length>0 || this.items[1].videos.length>0 ){\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tT.tips('货品主图至少上传一张')\n\t\t\t}\n\t\t},\n\t\t// 删除图片\n\t\tdel(index,idx,type){\n\t\t\tif(type == 0){\n\t\t\t\tthis.items[index].imgs.splice(idx,1)\n\t\t\t}else{\n\t\t\t\tthis.items[index].videos.splice(idx,1)\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t// 选择图片\n\t\tactionSheetTap(index,type){\n\t\t\tlet _this = this\n\t\t\t// index 0 主图 1 详情图\n\t\t\tthis.chooseIndex = index\n\t\t\tthis.chooseType  = type\n\t\t\tif(type == 0){\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount:this.chooseIndex==0?5:10 , //默认9\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album','camera'], //从相册选择\n\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\tconsole.log(JSON.stringify(res.tempFilePaths));\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths;\n\t\t\t\t\t\tlet arr = [];\n\t\t\t\t\t\ttempFilePaths.forEach((item,index)=>{\n\t\t\t\t\t\t\t_this.upload(item)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.chooseVideo({\n\t\t\t\t\tcount: 5,\n\t\t\t\t\tsourceType: ['camera', 'album'],\n\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t_this.upload(res.tempFilePath)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupload(tempFilePath){\n\t\t\tlet _this = this\n\t\t\tlet url = ''\n\t\t\tif(this.chooseType == 0) {\n\t\t\t\turl = uni.getStorageSync('s') == '开发' ? 'http://192.168.0.202:8000/upms/userImg/upload' : 'https://m.qinlvny.com/upms/userImg/upload'\n\t\t\t}else{\n\t\t\t\turl = uni.getStorageSync('s') == '开发' ? 'http://192.168.0.202:8000/ws/goods/goodImg/fileUpload' : 'https://m.qinlvny.com/ws/goods/goodImg/fileUpload'\n\t\t\t}\n\t\t\t// 保存文件\n\t\t\tuni.uploadFile({\n\t\t\t\turl: url, //仅为示例，非真实的接口地址\n\t\t\t\tfilePath: tempFilePath,\n\t\t\t\tname: 'file',\n\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\tconsole.log(uploadFileRes);\n\t\t\t\t\tlet res = JSON.parse(uploadFileRes.data)\n\t\t\t\t\tif (res.code == '1000') {\n\t\t\t\t\t\tif(_this.chooseType == 0){\n\t\t\t\t\t\t\t_this.items[_this.chooseIndex].imgs.push(res.data)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t_this.items[_this.chooseIndex].videos.push(res.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tT.tips(res.message || '上传图片失败')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail:(err) => {\n\t\t\t\t\tT.tips('上传图片失败')\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chooseImage.vue?vue&type=style&index=0&id=e5d1434a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../ms/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chooseImage.vue?vue&type=style&index=0&id=e5d1434a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/detail"],{"1dd0":function(e,t,r){"use strict";var o=r("8d2b"),s=r.n(o);s.a},"29ee":function(e,t,r){"use strict";(function(e){r("b440"),r("921b");o(r("66fd"));var t=o(r("9358"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},"2d18":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("7384"),s=d(r("e0d7"));function d(e){return e&&e.__esModule?e:{default:e}}var i=function(){return r.e("components/order/Good").then(r.bind(null,"d97b"))},n=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/Pay")]).then(r.bind(null,"b0d6"))},a=function(){return r.e("components/common/Dialog").then(r.bind(null,"3b86"))},u={name:"orddetail",data:function(){return{title:"确认收货吗?",isShow:!1,isWx:!1,isPayShow:!1,order:{},orderId:"",shopId:"",statusText:"",status:"",nowIndexPrice:0,isOrderDialog:0,isPay:0,platform:0}},components:{Good:i,Pay:n,Dialog:a},onLoad:function(t){this.orderId=t.orderId,this.shopId=t.shopId||1,this.platform=e.getStorageSync("platform")},onShow:function(){this.orderId?this.getOrderDetailById(this.orderId,this.shopId):(s.default.tips("订单ID或店铺ID不能为空"),setTimeout(function(){e.switchTab({url:"/pages/main/main"})},1500))},methods:{doCancel:function(){this.isShow=!1},doConfirm:function(){var e=this;if(0==e.isOrderDialog){if(this.orderId){var t={orderId:this.orderId};(0,o.postOrderCancel)(t).then(function(t){"1000"===t.code?(e.status=-1,e.statusText="已取消",e.order.leftTimeTip="",e.isShow=!1):s.default.tips(t.message||"取消订单失败")}).catch(function(e){s.default.tips(e.message||"取消订单失败")})}}else{var r={orderId:this.order.shopOrder.orderId,shopId:this.order.shopOrder.shopId};e.order.shopOrder.orderId&&e.order.shopOrder.shopId?(0,o.postOrderConfirm)(r).then(function(t){"1000"===t.code?(e.isShow=!1,e.goFinshPage()):s.default.tips(t.message||"确认收货失败")}).catch(function(e){s.default.tips(e.message||"确认收货失败")}):s.default.tips("确认收货失败")}},doPay:function(e){},showPay:function(){this.isPayShow=!this.isPayShow,this.nowIndexPrice=this.order.shopOrder.totalMoney},payClose:function(){this.isPayShow=!this.isPayShow},goFinshPage:function(t){e.navigateTo({url:"/pages/user/order/success?orderId="+this.order.shopOrder.orderId+"&shopId"+this.order.shopOrder.shopId})},postOrderConfirm:function(){this.isShow=!0,this.title="确认收货吗?",this.isOrderDialog=1},goFreight:function(){this.order.expressDetails&&(this.order.shopOrder.orderId&&this.order.shopOrder.shopId?e.navigateTo({url:"/pages/user/order/freight?orderId="+this.order.shopOrder.orderId+"&shopId="+this.order.shopOrder.shopId}):s.default.tips("此订单异常，请联系管理员"))},postOrderCancel:function(){this.isShow=!0,this.title="确认取消订单吗?",this.isOrderDialog=0},getOrderDetailById:function(e,t){var r=this,d={orderId:e};t&&(d.shopId=t),(0,o.getOrderDetailById)(d).then(function(e){if("1000"===e.code){if(r.order=e.data[0],r.statusText="",r.order.shopOrder)switch(r.status=r.order.shopOrder.status,r.status){case-1:r.statusText="已取消";break;case 0:r.statusText="待付款";break;case 1:r.statusText="已支付";break;case 2:r.statusText="待发货";break;case 3:r.statusText="待收货";break;case 4:r.statusText="已完成";break;case 5:r.statusText="已关闭";break}}else s.default.tips(e.message||"获取订单详情失败")}).catch(function(e){s.default.tips(e.message||"订单详情获取失败")})}}};t.default=u}).call(this,r("6e42")["default"])},"8d03":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,o=(e._self._c,r("5feb")),s=r("4b2b"),d=r("c43b"),i=r("4573"),n=r("06b2"),a=r("8b8c");e.$mp.data=Object.assign({},{$root:{m0:o,m1:s,m2:d,m3:i,m4:n,m5:a}})},s=[];r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s})},"8d2b":function(e,t,r){},9358:function(e,t,r){"use strict";r.r(t);var o=r("8d03"),s=r("c740");for(var d in s)"default"!==d&&function(e){r.d(t,e,function(){return s[e]})}(d);r("1dd0");var i=r("2877"),n=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,"ccc31768",null);t["default"]=n.exports},c740:function(e,t,r){"use strict";r.r(t);var o=r("2d18"),s=r.n(o);for(var d in o)"default"!==d&&function(e){r.d(t,e,function(){return o[e]})}(d);t["default"]=s.a}},[["29ee","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/list"],{"1fab":function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,s=(e._self._c,o("8763")),r=o("8b8c");e.$mp.data=Object.assign({},{$root:{m0:s,m1:r}})},r=[];o.d(t,"a",function(){return s}),o.d(t,"b",function(){return r})},"20f7":function(e,t,o){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("7384"),n=a(o("e0d7"));function a(e){return e&&e.__esModule?e:{default:e}}var d=function(){return o.e("components/order/Good").then(o.bind(null,"d97b"))},i=function(){return Promise.all([o.e("common/vendor"),o.e("components/common/Pay")]).then(o.bind(null,"b0d6"))},u=function(){return o.e("components/common/Dialog").then(o.bind(null,"3b86"))},h={name:"ordlist",data:function(){return{title:"确认收货吗?",hasOrders:!1,isShow:!1,orderId:"",shopId:"",orders:[],tabs:[{name:"全部",status:""},{name:"待付款",status:0},{name:"待发货",status:2},{name:"待收货",status:3},{name:"已完成",status:4}],pageIndex:1,pageSize:10,status:"",allLoaded:!1,loadText:"上拉加载更多...",isPayShow:!1,nowIndexPrice:0,isWx:!0,payOrderId:"",navIndex:0,platform:0}},components:{Good:d,Pay:i,Dialog:u},onReachBottom:function(){this.loadBottom()},onPullDownRefresh:function(){console.log(e("refresh"," at pages\\user\\order\\list.vue:126")),this.orders=[],this.getOrders(),setTimeout(function(){s.stopPullDownRefresh()},1e3)},onLoad:function(){},onShow:function(){this.platform=s.getStorageSync("platform"),console.log(e("platform:",this.platform," at pages\\user\\order\\list.vue:140"));var t=s.getStorageSync("orderNavIndex");t&&(this.status="1"==t?0:t,this.navIndex=t),this.orders=[],this.getOrders()},methods:{doConfirm:function(){var e=this,t={orderId:this.orderId,shopId:this.shopId};this.orderId&&this.shopId?(0,r.postOrderConfirm)(t).then(function(t){"1000"===t.code?(e.isShow=!1,e.goFinshPage()):n.default.tips(t.message||"确认收货失败")}).catch(function(e){n.default.tips(e.message||"确认收货失败")}):n.default.tips("确认收货失败")},doCancel:function(){this.isShow=!1},goDetail:function(e,t,o){var r=this.orders[e];s.navigateTo({url:"/pages/user/order/detail?orderId="+r.orderId+"&shopId="+r.shopId})},goFreight:function(e){var t=this.orders[e];s.navigateTo({url:"/pages/user/order/freight?orderId="+t.orderId+"&shopId="+t.shopId})},goFinshPage:function(){s.navigateTo({url:"/pages/user/order/success?orderId="+this.orderId+"&shopId="+this.shopId})},doPay:function(e){},postOrderConfirm:function(e){this.isShow=!0,this.orderId=this.orders[e].orderId,this.shopId=this.orders[e].shopId},showPay:function(e){this.nowIndexPrice=this.orders[e].payMoney,this.payOrderId=this.orders[e].orderId,this.isPayShow=!this.isPayShow},payClose:function(e){this.isPayShow=!this.isPayShow},changePosi:function(e){this.navIndex=e,s.setStorageSync("orderNavIndex",e),this.status=this.tabs[e].status,this.orders=[],this.pageIndex=1,this.allLoaded=!1,this.loadText="上拉加载更多...",this.getOrders()},loadBottom:function(){var e=this;setTimeout(function(){e.allLoaded||(e.pageIndex++,e.getOrders())},500)},getOrders:function(){var e=this,t={pageIndex:this.pageIndex,status:this.status,pageSize:this.pageSize};(0,r.getOrderPageMyOrder)(t).then(function(t){"1000"===t.code?(e.orders=e.orders.concat(t.data.records),e.hasOrders=e.orders.length<=0,e.orders.length>=t.data.total&&(e.allLoaded=!0,e.loadText="数据已经加载完毕")):(n.default.tips(t.message||"获取订单列表失败"),e.hasOrders=e.orders.length<=0)}).catch(function(e){n.default.tips(e.message||"获取订单列表失败")})}}};t.default=h}).call(this,o("0de9")["default"],o("6e42")["default"])},"24b6":function(e,t,o){"use strict";o.r(t);var s=o("1fab"),r=o("74da");for(var n in r)"default"!==n&&function(e){o.d(t,e,function(){return r[e]})}(n);o("e8e9");var a=o("2877"),d=Object(a["a"])(r["default"],s["a"],s["b"],!1,null,"40f50b7d",null);t["default"]=d.exports},"2c14":function(e,t,o){},"74da":function(e,t,o){"use strict";o.r(t);var s=o("20f7"),r=o.n(s);for(var n in s)"default"!==n&&function(e){o.d(t,e,function(){return s[e]})}(n);t["default"]=r.a},e8e9:function(e,t,o){"use strict";var s=o("2c14"),r=o.n(s);r.a},f062:function(e,t,o){"use strict";(function(e){o("b440"),o("921b");s(o("66fd"));var t=s(o("24b6"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])}},[["f062","common/runtime","common/vendor"]]]);
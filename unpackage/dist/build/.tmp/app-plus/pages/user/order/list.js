(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/list"],{1535:function(t,e,o){"use strict";var n=o("9d11"),s=o.n(n);s.a},"20f7":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("7384"),s=r(o("e0d7"));function r(t){return t&&t.__esModule?t:{default:t}}var a=function(){return o.e("components/order/Good").then(o.bind(null,"d97b"))},d=function(){return Promise.all([o.e("common/vendor"),o.e("components/common/Pay")]).then(o.bind(null,"b0d6"))},i=function(){return o.e("components/common/Dialog").then(o.bind(null,"3b86"))},u={name:"ordlist",data:function(){return{title:"确认收货吗?",isShow:!1,orderId:"",shopId:"",orders:[],tabs:[{name:"全部",status:""},{name:"待付款",status:0},{name:"待发货",status:2},{name:"待收货",status:3},{name:"已完成",status:4}],pageIndex:1,pageSize:10,status:"",allLoaded:!1,loadText:"上拉加载更多...",isPayShow:!1,nowIndexPrice:0,isWx:!0,payOrderId:"",navIndex:0}},components:{Good:a,Pay:d,Dialog:i},onReachBottom:function(){this.loadBottom()},onLoad:function(){},onShow:function(){var e=t.getStorageSync("orderNavIndex");e&&(this.status="1"===e?0:e,this.navIndex=e),this.getOrders()},methods:{doConfirm:function(){var t=this,e={orderId:this.orderId,shopId:this.shopId};this.orderId&&this.shopId?(0,n.postOrderConfirm)(e).then(function(e){"1000"===e.code?(t.isShow=!1,t.goFinshPage()):s.default.tips(e.message||"确认收货失败")}).catch(function(t){s.default.tips(t.message||"确认收货失败")}):s.default.tips("确认收货失败")},doCancel:function(){this.isShow=!1},goDetail:function(e,o,n){var s=this.orders[e];t.navigateTo({url:"/pages/user/order/detail?orderId="+s.orderId+"&shopId="+s.shopId})},goFreight:function(e){var o=this.orders[e];t.navigateTo({url:"/pages/user/order/freight?orderId="+o.orderId+"&shopId="+o.item.shopId})},goFinshPage:function(e){t.navigateTo({url:"/pages/user/order/success?orderId="+this.orders[e].orderId+"&shopId="+this.orders[e].shopId})},doPay:function(t){},postOrderConfirm:function(t){this.isShow=!0,this.orderId=this.orders[t].orderId,this.shopId=this.orders[t].shopId},showPay:function(t){this.nowIndexPrice=this.orders[t].payMoney,this.payOrderId=this.orders[t].orderId,this.isPayShow=!this.isPayShow},payClose:function(t){this.isPayShow=!this.isPayShow},changePosi:function(e){this.navIndex=e,t.setStorageSync("orderNavIndex",e),this.status=this.tabs[e].status,this.orders=[],this.pageIndex=1,this.allLoaded=!1,this.loadText="上拉加载更多...",this.getOrders()},loadBottom:function(){var t=this;setTimeout(function(){t.allLoaded||(t.pageIndex++,t.getOrders())},500)},getOrders:function(){var t=this,e={pageIndex:this.pageIndex,status:this.status,pageSize:this.pageSize};(0,n.getOrderPageMyOrder)(e).then(function(e){"1000"===e.code?(t.orders=t.orders.concat(e.data.records),t.orders.length>=e.data.total&&(t.allLoaded=!0,t.loadText="数据已经加载完毕")):s.default.tips(e.message||"获取订单列表失败")}).catch(function(t){s.default.tips(t.message||"获取订单列表失败")})}}};e.default=u}).call(this,o("6e42")["default"])},"24b6":function(t,e,o){"use strict";o.r(e);var n=o("7c58"),s=o("74da");for(var r in s)"default"!==r&&function(t){o.d(e,t,function(){return s[t]})}(r);o("1535");var a=o("2877"),d=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"5a29ccb2",null);e["default"]=d.exports},"74da":function(t,e,o){"use strict";o.r(e);var n=o("20f7"),s=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);e["default"]=s.a},"7c58":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,n=(t._self._c,o("8763")),s=o("8b8c");t.$mp.data=Object.assign({},{$root:{m0:n,m1:s}})},s=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return s})},"9d11":function(t,e,o){},f062:function(t,e,o){"use strict";(function(t){o("b440"),o("921b");n(o("66fd"));var e=n(o("24b6"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])}},[["f062","common/runtime","common/vendor"]]]);
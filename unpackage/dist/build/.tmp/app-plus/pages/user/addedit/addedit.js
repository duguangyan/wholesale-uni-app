(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/addedit/addedit"],{3146:function(e,t,s){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=o(s("f585")),n=o(s("e0d7")),a=s("7384");function o(e){return e&&e.__esModule?e:{default:e}}var c=function(){return s.e("components/common/RaBtn").then(s.bind(null,"19fc"))},u=function(){return s.e("components/common/Dialog").then(s.bind(null,"3b86"))},r=function(){return Promise.all([s.e("common/vendor"),s.e("components/common/mpvue-citypicker/mpvueCityPicker")]).then(s.bind(null,"f509"))},l={data:function(){return{address:{name:"",phone:"",area:"",address:"",city:"",cityId:"",province:"",provinceId:"",region:"",regionId:"",def:1},isPicker:!1,fullAddress:"",id:"",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",isShow:!1,title:"确认保存地址吗?"}},components:{RaBtn:c,Dialog:u,mpvueCityPicker:r},onLoad:function(e){this.id=e.id},onShow:function(){var t=this;if(this.id){var s={id:this.id,isLoading:1};(0,a.getAddressById)(s).then(function(s){"1000"===s.code?(t.address=s.data,t.fullAddress=s.data.province+" "+s.data.city+" "+s.data.region):(n.default.tips(s.message||"根据ID获取地址信息失败"),e.navigateBack({delta:1}))}).catch(function(t){n.default.tips(t.message||"根据ID获取地址信息失败"),e.navigateBack({delta:1})})}},methods:{showPicker:function(){this.$refs.mpvueCityPicker.show()},onCancel:function(e){console.log(i(e," at pages\\user\\addedit\\addedit.vue:123"))},onConfirm:function(e){this.fullAddress=e.label;var t=this.fullAddress.split("-");this.address.province=t[0],this.address.provinceId=e.ids[0],this.address.city=t[1],this.address.cityId=e.ids[1],this.address.region=t[2],this.address.regionId=e.ids[2]},getName:function(e){d.default.isNickName(e.detail.value)||n.default.tips("姓名请输入英文字母或者汉字，限2-20个字符")},getPhone:function(e){d.default.isPhone(e.detail.value)&&n.default.tips("手机号请输入正确的手机号码")},getAddressDetall:function(e){d.default.isAddressDetall(e.detail.value)||n.default.tips("详细地址请输入英文字母或者汉字，限5-120个字符")},close:function(){this.isPicker=!1},area:function(e){this.isPicker&&e[2]&&(this.fullAddress=e[0].name+" "+e[1].name+" "+e[2].name,this.address.province=e[0].name,this.address.provinceId=e[0].id,this.address.city=e[1].name,this.address.cityId=e[1].id,this.address.region=e[2].name,this.address.regionId=e[2].id)},areaChange:function(){},saveAd:function(e){},preDel:function(){var t=this;e.showModal({title:"提示",content:"确认删除该地址吗?",success:function(e){e.confirm?(console.log(i("用户点击确定"," at pages\\user\\addedit\\addedit.vue:189")),t.delAd()):e.cancel&&console.log(i("用户点击取消"," at pages\\user\\addedit\\addedit.vue:192"))}})},delAd:function(){var t={id:this.id};(0,a.postAddressDelete)(t).then(function(t){"1000"===t.code?e.navigateBack({delta:1}):n.default.tips(t.message||"删除地址失败")}).catch(function(e){n.default.tips(e.message||"删除地址失败")})},setDefault:function(e){this.address.def=e},preSave:function(e){return console.log(i(this.address," at pages\\user\\addedit\\addedit.vue:218")),d.default.isNickName(this.address.name)?d.default.isPhone(this.address.phone)?(n.default.tips("请输入正确的手机号码"),!1):d.default.isAddressDetall(this.address.address)?void(this.isShow=!0):(n.default.tips("请输入英文字母或者汉字，限5-120个字符"),!1):(n.default.tips("请输入英文字母或者汉字，限2-20个字符"),!1)},doCancel:function(){this.isShow=!1},doConfirm:function(t){this.isShow=!1,this.id?(0,a.postAddressUpdate)(this.address).then(function(t){"1000"===t.code?e.navigateBack({delta:1}):n.default.tips(t.message||"地址更新错误")}).catch(function(e){n.default.tips(e.message||"地址更新错误")}):(0,a.postUserAddressInsert)(this.address).then(function(t){"1000"===t.code?e.navigateBack({delta:1}):n.default.tips(t.message||"地址新增错误")}).catch(function(e){n.default.tips(e.message||"地址新增错误")})}}};t.default=l}).call(this,s("6e42")["default"],s("0de9")["default"])},"4b30":function(e,t,s){"use strict";s.r(t);var i=s("c062"),d=s("59ce");for(var n in d)"default"!==n&&function(e){s.d(t,e,function(){return d[e]})}(n);s("ab84");var a=s("2877"),o=Object(a["a"])(d["default"],i["a"],i["b"],!1,null,"74a1e6a2",null);t["default"]=o.exports},"59ce":function(e,t,s){"use strict";s.r(t);var i=s("3146"),d=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,function(){return i[e]})}(n);t["default"]=d.a},ab84:function(e,t,s){"use strict";var i=s("ef88"),d=s.n(i);d.a},b110:function(e,t,s){"use strict";(function(e){s("b440"),s("921b");i(s("66fd"));var t=i(s("4b30"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])},c062:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,i=(e._self._c,s("4573"));e.$mp.data=Object.assign({},{$root:{m0:i}})},d=[];s.d(t,"a",function(){return i}),s.d(t,"b",function(){return d})},ef88:function(e,t,s){}},[["b110","common/runtime","common/vendor"]]]);